<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Gamble â€” by UltimateCoder345</title>
<style>
  body { margin:0; font-family:Arial, sans-serif; background:#0f172a; color:#f8fafc; }
  header { background:#1e293b; padding:12px 20px; display:flex; justify-content:space-between; align-items:center; }
  header h1 { margin:0; font-size:20px; color:#38bdf8 }
  nav { display:flex; gap:12px; flex-wrap:wrap; padding:10px; background:#1e293b }
  nav button { background:#334155; border:none; color:#f8fafc; padding:8px 14px; border-radius:6px; cursor:pointer; }
  nav button.active { background:#38bdf8; color:#0f172a; }
  .balance { font-weight:bold; font-size:18px; color:#22c55e; }
  main { padding:20px; }
  section { display:none; }
  section.active { display:block; }
  .panel { background:#1e293b; padding:16px; border-radius:8px; margin-bottom:16px; }
  input, button, select { margin-top:8px; padding:8px; border-radius:6px; border:1px solid #475569; background:#0f172a; color:#f8fafc; }
  button.action { background:#38bdf8; border:none; color:#0f172a; font-weight:bold; margin-top:12px; }
  .log { margin-top:12px; background:#0f172a; padding:10px; border-radius:6px; height:140px; overflow:auto; font-size:14px; }
  table { width:100%; border-collapse:collapse; margin-top:10px; }
  th, td { border-bottom:1px solid #334155; padding:8px; text-align:left; }
  th { color:#38bdf8 }
</style>
</head>
<body>
<header>
  <h1>ðŸŽ² Gamble</h1>
  <div class="balance">Balance: <span id="balance">0</span> ðŸ’° (<span id="user"></span>)</div>
</header>
<nav>
  <button onclick="showTab('home')" class="active">Home</button>
  <button onclick="showTab('coinflip')">Coinflip</button>
  <button onclick="showTab('blackjack')">Blackjack</button>
  <button onclick="showTab('dice')">Dice</button>
  <button onclick="showTab('daily')">Daily</button>
  <button onclick="showTab('leaderboard')">Leaderboard</button>
</nav>
<main>
  <section id="home" class="active">
    <div class="panel">
      <h2>Welcome to Gamble!</h2>
      <p>Fake casino site by <b>UltimateCoder345</b>. Play games, claim rewards, and climb the leaderboard!</p>
    </div>
  </section>
  <section id="coinflip">
    <div class="panel">
      <h2>Coinflip</h2>
      <input type="number" id="cf-bet" placeholder="Bet amount"/>
      <select id="cf-choice">
        <option value="heads">Heads</option>
        <option value="tails">Tails</option>
      </select><br>
      <button class="action" onclick="playCoinflip()">Flip</button>
      <div class="log" id="cf-log"></div>
    </div>
  </section>
  <section id="blackjack">
    <div class="panel">
      <h2>Blackjack</h2>
      <input type="number" id="bj-bet" placeholder="Bet amount"/><br>
      <button class="action" onclick="startBlackjack()">Start Game</button>
      <button class="action" onclick="hit()" id="hit-btn" style="display:none;">Hit</button>
      <button class="action" onclick="stand()" id="stand-btn" style="display:none;">Stand</button>
      <div class="log" id="bj-log"></div>
    </div>
  </section>
  <section id="dice">
    <div class="panel">
      <h2>Dice Roll</h2>
      <p>Pick a number 1â€“6. If you hit it, you win 5x!</p>
      <input type="number" id="dice-bet" placeholder="Bet amount"/>
      <select id="dice-choice">
        <option value="1">1</option><option value="2">2</option><option value="3">3</option>
        <option value="4">4</option><option value="5">5</option><option value="6">6</option>
      </select><br>
      <button class="action" onclick="playDice()">Roll Dice</button>
      <div class="log" id="dice-log"></div>
    </div>
  </section>
  <section id="daily">
    <div class="panel">
      <h2>Daily & Hourly Rewards</h2>
      <button class="action" onclick="claimReward('hourly')">Claim Hourly (+100)</button><br>
      <button class="action" onclick="claimReward('daily')">Claim Daily (+1000)</button>
      <div class="log" id="reward-log"></div>
    </div>
  </section>
  <section id="leaderboard">
    <div class="panel">
      <h2>Leaderboard</h2>
      <table>
        <thead><tr><th>Rank</th><th>User</th><th>Balance</th></tr></thead>
        <tbody id="leaderboard-body"></tbody>
      </table>
    </div>
  </section>
</main>

<script>
let balance = 0;
let rewards = { hourly:0, daily:0 };
let leaderboard = [];
let username = "";
let bjGame = null;

// ---------- Init ----------
function askName(){
  username = localStorage.getItem("username");
  if(!username){
    username = prompt("Enter a display name:");
    if(!username) username="Guest"+Math.floor(Math.random()*1000);
    localStorage.setItem("username", username);
  }
  document.getElementById("user").textContent = username;
}
function loadData(){
  balance = parseInt(localStorage.getItem("balance_"+username))||1000;
  rewards = JSON.parse(localStorage.getItem("rewards_"+username))||{hourly:0,daily:0};
  leaderboard = JSON.parse(localStorage.getItem("leaderboard"))||[];
  updateBalance();
  updateLeaderboard();
}
function saveData(){
  localStorage.setItem("balance_"+username, balance);
  localStorage.setItem("rewards_"+username, JSON.stringify(rewards));
  localStorage.setItem("leaderboard", JSON.stringify(leaderboard));
}
function updateBalance(){
  document.getElementById("balance").textContent = balance;
  saveLeaderboard();
  saveData();
}
function showTab(id){
  document.querySelectorAll("nav button").forEach(btn=>btn.classList.remove("active"));
  document.querySelectorAll("section").forEach(sec=>sec.classList.remove("active"));
  document.querySelector(`button[onclick="showTab('${id}')"]`).classList.add("active");
  document.getElementById(id).classList.add("active");
}

// ---------- Coinflip ----------
function playCoinflip(){
  let bet = parseInt(document.getElementById("cf-bet").value);
  let choice = document.getElementById("cf-choice").value;
  let log = document.getElementById("cf-log");
  if(isNaN(bet)||bet<=0){ log.innerHTML+="<div>Invalid bet.</div>"; return; }
  if(bet>balance){ log.innerHTML+="<div>Not enough balance.</div>"; return; }
  balance-=bet; updateBalance();
  let result = Math.random()<0.5?"heads":"tails";
  if(result===choice){
    let win = bet*2;
    balance+=win; updateBalance();
    log.innerHTML+=`<div>You won! It was ${result}. +${win}</div>`;
  } else {
    log.innerHTML+=`<div>You lost! It was ${result}. -${bet}</div>`;
  }
  log.scrollTop=log.scrollHeight;
}

// ---------- Dice ----------
function playDice(){
  let bet = parseInt(document.getElementById("dice-bet").value);
  let choice = parseInt(document.getElementById("dice-choice").value);
  let log = document.getElementById("dice-log");
  if(isNaN(bet)||bet<=0){ log.innerHTML+="<div>Invalid bet.</div>"; return; }
  if(bet>balance){ log.innerHTML+="<div>Not enough balance.</div>"; return; }
  balance-=bet; updateBalance();
  let roll = Math.floor(Math.random()*6)+1;
  if(roll===choice){
    let win=bet*5;
    balance+=win; updateBalance();
    log.innerHTML+=`<div>You rolled ${roll}, matched your choice! +${win}</div>`;
  } else {
    log.innerHTML+=`<div>You rolled ${roll}, lost -${bet}</div>`;
  }
  log.scrollTop=log.scrollHeight;
}

// ---------- Blackjack ----------
function startBlackjack(){
  let bet = parseInt(document.getElementById("bj-bet").value);
  let log = document.getElementById("bj-log");
  if(isNaN(bet)||bet<=0){ log.innerHTML+="<div>Invalid bet.</div>"; return; }
  if(bet>balance){ log.innerHTML+="<div>Not enough balance.</div>"; return; }
  balance-=bet; updateBalance();
  bjGame = { bet:bet, player:[], dealer:[], over:false };
  bjGame.player.push(drawCard(), drawCard());
  bjGame.dealer.push(drawCard());
  log.innerHTML=`<div>Game started. Your hand: ${bjGame.player.join(", ")} (${handValue(bjGame.player)})</div>`;
  document.getElementById("hit-btn").style.display="inline-block";
  document.getElementById("stand-btn").style.display="inline-block";
}
function hit(){
  if(!bjGame||bjGame.over) return;
  bjGame.player.push(drawCard());
  let log=document.getElementById("bj-log");
  log.innerHTML+=`<div>You drew ${bjGame.player.at(-1)}. Hand: ${bjGame.player.join(", ")} (${handValue(bjGame.player)})</div>`;
  if(handValue(bjGame.player)>21){
    log.innerHTML+=`<div>Bust! Lost -${bjGame.bet}</div>`;
    endBlackjack();
  }
}
function stand(){
  if(!bjGame||bjGame.over) return;
  let log=document.getElementById("bj-log");
  bjGame.dealer.push(drawCard(), drawCard());
  while(handValue(bjGame.dealer)<17){
    bjGame.dealer.push(drawCard());
  }
  let playerVal=handValue(bjGame.player);
  let dealerVal=handValue(bjGame.dealer);
  if(dealerVal>21||playerVal>dealerVal){
    let win=bjGame.bet*2; balance+=win; updateBalance();
    log.innerHTML+=`<div>You win! Dealer: ${bjGame.dealer.join(", ")} (${dealerVal}) +${win}</div>`;
  } else if(playerVal===dealerVal){
    balance+=bjGame.bet; updateBalance();
    log.innerHTML+=`<div>Push. Dealer: ${bjGame.dealer.join(", ")} (${dealerVal})</div>`;
  } else {
    log.innerHTML+=`<div>You lost. Dealer: ${bjGame.dealer.join(", ")} (${dealerVal}) -${bjGame.bet}</div>`;
  }
  endBlackjack();
}
function endBlackjack(){
  bjGame.over=true;
  document.getElementById("hit-btn").style.display="none";
  document.getElementById("stand-btn").style.display="none";
}
function drawCard(){ return Math.floor(Math.random()*11)+1; }
function handValue(cards){ return cards.reduce((a,b)=>a+b,0); }

// ---------- Rewards ----------
function claimReward(type){
  let log=document.getElementById("reward-log");
  let now=Date.now();
  if(type==="hourly"){
    if(now-rewards.hourly<3600000){ log.innerHTML+="<div>Hourly already claimed!</div>"; return; }
    balance+=100; updateBalance(); rewards.hourly=now; saveData();
    log.innerHTML+="<div>Claimed +100 hourly!</div>";
  }
  if(type==="daily"){
    if(now-rewards.daily<86400000){ log.innerHTML+="<div>Daily already claimed!</div>"; return; }
    balance+=1000; updateBalance(); rewards.daily=now; saveData();
    log.innerHTML+="<div>Claimed +1000 daily!</div>";
  }
  log.scrollTop=log.scrollHeight;
}

// ---------- Leaderboard ----------
function saveLeaderboard(){
  let found = leaderboard.find(p=>p.user===username);
  if(found){ found.balance=balance; }
  else{ leaderboard.push({user:username,balance:balance}); }
  leaderboard.sort((a,b)=>b.balance-a.balance);
  leaderboard=leaderboard.slice(0,10);
  localStorage.setItem("leaderboard", JSON.stringify(leaderboard));
  updateLeaderboard();
}
function updateLeaderboard(){
  let tbody=document.getElementById("leaderboard-body");
  tbody.innerHTML="";
  leaderboard.sort((a,b)=>b.balance-a.balance);
  leaderboard.forEach((p,i)=>{
    tbody.innerHTML+=`<tr><td>${i+1}</td><td>${p.user}</td><td>${p.balance}</td></tr>`;
  });
}

// ---------- Run ----------
askName();
loadData();
</script>
</body>
</html>
